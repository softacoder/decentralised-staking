{"ast":null,"code":"var _jsxFileName = \"/Users/jansofta/Documents/GitHub/decentralised-staking/challenge-1-decentralized-staking/packages/react-app/src/components/Contract/index.jsx\",\n  _s = $RefreshSig$();\nimport { Card } from \"antd\";\nimport React, { useMemo, useState } from \"react\";\nimport { useContractExistsAtAddress, useContractLoader } from \"eth-hooks\";\nimport Account from \"../Account\";\nimport DisplayVariable from \"./DisplayVariable\";\nimport FunctionForm from \"./FunctionForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst noContractDisplay = /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [\"Loading...\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 32\n    },\n    children: [\"You need to run\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"highlight\",\n      style: {\n        marginLeft: 4,\n        /* backgroundColor: \"#f1f1f1\", */padding: 4,\n        borderRadius: 4,\n        fontWeight: \"bolder\"\n      },\n      children: \"yarn run chain\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), \" \", \"and\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"highlight\",\n      style: {\n        marginLeft: 4,\n        /* backgroundColor: \"#f1f1f1\", */padding: 4,\n        borderRadius: 4,\n        fontWeight: \"bolder\"\n      },\n      children: \"yarn run deploy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), \" \", \"to see your contract here.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginRight: 4\n      },\n      role: \"img\",\n      \"aria-label\": \"warning\",\n      children: \"\\u2622\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), \"Warning: You might need to run\", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"highlight\",\n      style: {\n        marginLeft: 4,\n        /* backgroundColor: \"#f1f1f1\", */padding: 4,\n        borderRadius: 4,\n        fontWeight: \"bolder\"\n      },\n      children: \"yarn run deploy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n      children: \"again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), \" after the frontend comes up!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\nconst isQueryable = fn => (fn.stateMutability === \"view\" || fn.stateMutability === \"pure\") && fn.inputs.length === 0;\nexport default function Contract({\n  customContract,\n  account,\n  gasPrice,\n  signer,\n  provider,\n  name,\n  show,\n  price,\n  blockExplorer,\n  chainId,\n  contractConfig\n}) {\n  _s();\n  const contracts = useContractLoader(provider, contractConfig, chainId);\n  let contract;\n  if (!customContract) {\n    contract = contracts ? contracts[name] : \"\";\n  } else {\n    contract = customContract;\n  }\n  const address = contract ? contract.address : \"\";\n  const contractIsDeployed = useContractExistsAtAddress(provider, address);\n  const displayedContractFunctions = useMemo(() => {\n    const results = contract ? Object.values(contract.interface.functions).filter(fn => fn.type === \"function\" && !(show && show.indexOf(fn.name) < 0)) : [];\n    return results;\n  }, [contract, show]);\n  const [refreshRequired, triggerRefresh] = useState(false);\n  const contractDisplay = displayedContractFunctions.map(contractFuncInfo => {\n    const contractFunc = contractFuncInfo.stateMutability === \"view\" || contractFuncInfo.stateMutability === \"pure\" ? contract[contractFuncInfo.name] : contract.connect(signer)[contractFuncInfo.name];\n    if (typeof contractFunc === \"function\") {\n      if (isQueryable(contractFuncInfo)) {\n        // If there are no inputs, just display return value\n        return /*#__PURE__*/_jsxDEV(DisplayVariable, {\n          contractFunction: contractFunc,\n          functionInfo: contractFuncInfo,\n          refreshRequired: refreshRequired,\n          triggerRefresh: triggerRefresh\n        }, contractFuncInfo.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this);\n      }\n\n      // If there are inputs, display a form to allow users to provide these\n      return /*#__PURE__*/_jsxDEV(FunctionForm, {\n        contractFunction: contractFunc,\n        functionInfo: contractFuncInfo,\n        provider: provider,\n        gasPrice: gasPrice,\n        triggerRefresh: triggerRefresh\n      }, \"FF\" + contractFuncInfo.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"auto\",\n      width: \"70vw\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [name, /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            float: \"right\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Account, {\n            address: address,\n            localProvider: provider,\n            injectedProvider: provider,\n            mainnetProvider: provider,\n            price: price,\n            blockExplorer: blockExplorer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), account]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this),\n      size: \"large\",\n      style: {\n        marginTop: 25,\n        width: \"100%\"\n      },\n      loading: contractDisplay && contractDisplay.length <= 0,\n      children: contractIsDeployed ? contractDisplay : noContractDisplay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(Contract, \"UHemcvODJJ/mPkx9BbRxI8KGQcs=\", false, function () {\n  return [useContractLoader, useContractExistsAtAddress];\n});\n_c = Contract;\nvar _c;\n$RefreshReg$(_c, \"Contract\");","map":{"version":3,"names":["Card","React","useMemo","useState","useContractExistsAtAddress","useContractLoader","Account","DisplayVariable","FunctionForm","jsxDEV","_jsxDEV","noContractDisplay","children","style","padding","className","marginLeft","borderRadius","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","marginRight","role","isQueryable","fn","stateMutability","inputs","length","Contract","customContract","account","gasPrice","signer","provider","name","show","price","blockExplorer","chainId","contractConfig","_s","contracts","contract","address","contractIsDeployed","displayedContractFunctions","results","Object","values","interface","functions","filter","type","indexOf","refreshRequired","triggerRefresh","contractDisplay","map","contractFuncInfo","contractFunc","connect","contractFunction","functionInfo","margin","width","title","float","localProvider","injectedProvider","mainnetProvider","size","marginTop","loading","_c","$RefreshReg$"],"sources":["/Users/jansofta/Documents/GitHub/decentralised-staking/challenge-1-decentralized-staking/packages/react-app/src/components/Contract/index.jsx"],"sourcesContent":["import { Card } from \"antd\";\nimport React, { useMemo, useState } from \"react\";\nimport { useContractExistsAtAddress, useContractLoader } from \"eth-hooks\";\nimport Account from \"../Account\";\nimport DisplayVariable from \"./DisplayVariable\";\nimport FunctionForm from \"./FunctionForm\";\n\nconst noContractDisplay = (\n  <div>\n    Loading...{\" \"}\n    <div style={{ padding: 32 }}>\n      You need to run{\" \"}\n      <span\n        className=\"highlight\"\n        style={{ marginLeft: 4, /* backgroundColor: \"#f1f1f1\", */ padding: 4, borderRadius: 4, fontWeight: \"bolder\" }}\n      >\n        yarn run chain\n      </span>{\" \"}\n      and{\" \"}\n      <span\n        className=\"highlight\"\n        style={{ marginLeft: 4, /* backgroundColor: \"#f1f1f1\", */ padding: 4, borderRadius: 4, fontWeight: \"bolder\" }}\n      >\n        yarn run deploy\n      </span>{\" \"}\n      to see your contract here.\n    </div>\n    <div style={{ padding: 32 }}>\n      <span style={{ marginRight: 4 }} role=\"img\" aria-label=\"warning\">\n        ☢️\n      </span>\n      Warning: You might need to run\n      <span\n        className=\"highlight\"\n        style={{ marginLeft: 4, /* backgroundColor: \"#f1f1f1\", */ padding: 4, borderRadius: 4, fontWeight: \"bolder\" }}\n      >\n        yarn run deploy\n      </span>{\" \"}\n      <i>again</i> after the frontend comes up!\n    </div>\n  </div>\n);\n\nconst isQueryable = fn => (fn.stateMutability === \"view\" || fn.stateMutability === \"pure\") && fn.inputs.length === 0;\n\nexport default function Contract({\n  customContract,\n  account,\n  gasPrice,\n  signer,\n  provider,\n  name,\n  show,\n  price,\n  blockExplorer,\n  chainId,\n  contractConfig,\n}) {\n  const contracts = useContractLoader(provider, contractConfig, chainId);\n  let contract;\n  if (!customContract) {\n    contract = contracts ? contracts[name] : \"\";\n  } else {\n    contract = customContract;\n  }\n\n  const address = contract ? contract.address : \"\";\n  const contractIsDeployed = useContractExistsAtAddress(provider, address);\n\n  const displayedContractFunctions = useMemo(() => {\n    const results = contract\n      ? Object.values(contract.interface.functions).filter(\n          fn => fn.type === \"function\" && !(show && show.indexOf(fn.name) < 0),\n        )\n      : [];\n    return results;\n  }, [contract, show]);\n\n  const [refreshRequired, triggerRefresh] = useState(false);\n  const contractDisplay = displayedContractFunctions.map(contractFuncInfo => {\n    const contractFunc =\n      contractFuncInfo.stateMutability === \"view\" || contractFuncInfo.stateMutability === \"pure\"\n        ? contract[contractFuncInfo.name]\n        : contract.connect(signer)[contractFuncInfo.name];\n\n    if (typeof contractFunc === \"function\") {\n      if (isQueryable(contractFuncInfo)) {\n        // If there are no inputs, just display return value\n        return (\n          <DisplayVariable\n            key={contractFuncInfo.name}\n            contractFunction={contractFunc}\n            functionInfo={contractFuncInfo}\n            refreshRequired={refreshRequired}\n            triggerRefresh={triggerRefresh}\n          />\n        );\n      }\n\n      // If there are inputs, display a form to allow users to provide these\n      return (\n        <FunctionForm\n          key={\"FF\" + contractFuncInfo.name}\n          contractFunction={contractFunc}\n          functionInfo={contractFuncInfo}\n          provider={provider}\n          gasPrice={gasPrice}\n          triggerRefresh={triggerRefresh}\n        />\n      );\n    }\n    return null;\n  });\n\n  return (\n    <div style={{ margin: \"auto\", width: \"70vw\" }}>\n      <Card\n        title={\n          <div>\n            {name}\n            <div style={{ float: \"right\" }}>\n              <Account\n                address={address}\n                localProvider={provider}\n                injectedProvider={provider}\n                mainnetProvider={provider}\n                price={price}\n                blockExplorer={blockExplorer}\n              />\n              {account}\n            </div>\n          </div>\n        }\n        size=\"large\"\n        style={{ marginTop: 25, width: \"100%\" }}\n        loading={contractDisplay && contractDisplay.length <= 0}\n      >\n        {contractIsDeployed ? contractDisplay : noContractDisplay}\n      </Card>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}